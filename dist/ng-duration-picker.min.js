"use strict";!function(){function n(n){var e=15,i=230,t=200,a=n.getBoundingClientRect(),r=a.height,o=a.width,l=a.top,s=a.left,c=window.innerHeight,u=l>c/2;l=u?-(e+t):e+r;var g=s+o/2,p=g>i/2&&g<=document.body.clientWidth-i/2,d=g>document.body.clientWidth-i/2;return s=p?o/2-i/2:d?o-i:0,{top:l,left:s}}function e(){var e={restrict:"A",scope:{result:"=",human:"=",output:"@",lang:"@"},link:function(e,i,t){function a(t){e.$apply(function(){if("click"===t.type&&(e.ui.visible=!e.ui.visible),e.ui.visible){var a=n(i[0]),r=a.top,o=a.left;e.ui.pos={top:r,left:o}}})}e.lazy=t.hasOwnProperty("lazy"),angular.element(i).wrap('<div class="ngdp-wrapper"></div>'),e.insertPicker(),angular.element(i).on("click",function(n){return a(n)}),angular.element(window).on("scroll",function(n){return a(n)})},controller:["$scope","$compile",function(n,e){n.ui={visible:!1,open:!0,dirty:!1,error:!1,pos:{top:0,left:0},lang:n.lang||"es"},n.insertPicker=function(){var t=e(i)(n),a=document.getElementsByClassName("ngdp-wrapper");angular.element(a).prepend(t)},n.toggleNav=function(e){n.ui.error||(n.ui.open=!n.ui.open,e.preventDefault())},n.category="minutes",n.categories=["milliseconds","seconds","minutes","hours","days","weeks","months","years"],n.log=n.preview={},n.categories.forEach(function(e){return n.log[e]=0}),n.output?n.customOutput=n.categories.indexOf(n.output)===-1?"minutes":n.output:n.customOutput="minutes",n.changeCategory=function(e,i){if(i&&i.preventDefault(),!n.ui.error){if(e.indexOf("limit")!==-1)return!1;n.category=e,n.value=n.log[e],n.ui.open=!1,n.ui.dirty=!0;var t=n.categories.indexOf(e);n.next=n.categories[t+1]||"reached limit",n.previous=n.categories[t-1]||"reached limit"}},n.updatePreview=function(){function e(){var e=[];return n.categories.forEach(function(i){var t=n.log[i];t&&(1===t&&(i=i.substring(0,i.length-1)),e.push(t+" "+i))}),e.reverse().join(" ")}var i=moment.duration(n.log);n.preview.human=n.lazy?i.humanize():e(),n.preview.result=i.as(n.customOutput)},n.updateValue=function(e,i){i&&i.preventDefault(),n.ui.error||(n.value=e?++n.log[n.category]:n.value&&--n.log[n.category],n.updatePreview())},n.changeInput=function(){var e=Number(n.value);return Number.isNaN(e)||e<0?(n.ui.error=!0,void(n.preview.human="wrong input")):(n.ui.error=!1,n.log[n.category]=n.value,void n.updatePreview())},n.bindToExternalModel=function(){n.ui.error||(n.human=n.preview.human,n.result=n.preview.result,n.ui.visible=!1)}}]};return e}var i='<div class="ngdp" style="top: {{ui.pos.top}}px; left: {{ui.pos.left}}px" \n      ng-class="{\'ngdp-visible\': ui.visible, \'ngdp-open\': ui.open, \'ngdp-dirty\': ui.dirty}">\n\n        <div class="ngdp-content">\n          <div class="ngdp-top">\n            <div class="ngdp-change">\n              <a href="#" ng-click="changeCategory(next, $event)"> {{next}} </a>\n            </div>\n            <div class="ngdp-toggle" ng-click="toggleNav($event)">\n              <i class="ngdp-bar"> </i>\n              <i class="ngdp-bar"> </i>\n              <i class="ngdp-bar"> </i>\n            </div>\n          </div>    \n          <div class="ngdp-middle">\n            <div class="col-xs-12">\n              <div class="ngdp-updown col-xs-5 text-center">\n                <a href="#" ng-click="updateValue(true, $event)">\n                  <span class="glyphicon glyphicon-plus"></span>\n                </a>\n                <input type="text" class="form-control" ng-model="value" \n                       ng-change="changeInput()" ng-class="{\'ngdp-error\': ui.error}">\n                <a href="#" ng-click="updateValue(false, $event)">\n                  <span class="glyphicon glyphicon-minus"></span>\n                </a>\n              </div>\n              <div class="col-xs-7">\n                <h4 class="text-muted">{{category}}</h4>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-xs-12 text-center">\n                <small class="text-muted"> {{preview.human}} </small>\n              </div>\n            </div>\n          </div>\n          <div class="ngdp-bottom">\n            <div class="ngdp-change">\n              <a href="#" ng-click="changeCategory(previous, $event)"> {{previous}}</a>\n            </div>\n            <div class="ngdp-done" ng-click="bindToExternalModel($event)">\n              <span class="ngdp-check"> </span>\n            </div>\n          </div>\n        </div>\n\n        <div class="ngdp-navigation">\n          <div class="ngdp-back" style="visibility: {{ui.dirty ? \'visible\' : \'hidden\'}}">\n            <a href="#" ng-click="toggleNav($event)">\n              <span class="glyphicon glyphicon-chevron-left"></span>\n              <span>go back </span>\n            </a>\n          </div>\n          <h4>Select a category to start </h4>\n          <ul class="ngdp-categories">\n            <li class="ngdp-category" ng-repeat="category in categories">\n              <button type="button" class="btn btn-sm" ng-click="changeCategory(category)">{{category}}</button>\n            </li>\n          </ul>\n        </div>\n      </div>';angular.module("ngDurationPicker",[]).directive("ngDurationPicker",e)}();
//# sourceMappingURL=ng-duration-picker.min.js.map
